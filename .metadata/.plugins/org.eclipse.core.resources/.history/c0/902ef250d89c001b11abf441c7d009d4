/**
 * proMovie js파일
 */

$(document).ready(function(){loadData();});

$('.posterTag').on('mouseover', function(){
	//event.stopPropagation();
	$(this).children('#detailText').css('display', 'block');
	$(this).children('#detailText').toggleClass("on");
})

$('.posterTag').on('mouseout', function(){
	$(this).children('#detailText').css('display', 'none');
	$(this).children('#detailText').toggleClass("on");
})

$('.moveBtn').on('mouseover', function(){
	$(this).toggleClass("btnMouseOver");
})
$('.moveBtn').on('mouseout', function(){
	$(this).toggleClass("btnMouseOver");
})

$('.detailText').on('click', function(){
	
});

if(window.matchMedia('(max-width: 736px)').matches){}


var swiper = new Swiper('.swiper-container', {
	spaceBetween : 10,
	loop : false,
	loopFillGroupWithBlank : true,
	allowTouchMove: true,
	pagination : {
		el : '.swiper-pagination',
		clickable : true,
	},
	navigation : {
		nextEl : '.swiper-button-next',
		prevEl : '.swiper-button-prev',
	},
	breakpoints : { // 반응형 설정이 가능 width값으로 조정
		737: {
			slidesPerView : 5,
			slidesPerGroup : 5
		},
		981: {
			slidesPerView : 6,
			slidesPerGroup : 6
		},
		1: {
			slidesPerView : 3,
			slidesPerGroup : 3
		}
	}
});

//poptrox
$(function() {
	$('#gallery').poptrox({
		usePopupCaption : true,
		usePopupNav : true,
		popupPadding : 0
	});
});


function loadData(){
	$.each(movieJson, function(index, genre){
		console.log(genre);
		$.each(genre, function(index, movie){
			console.log(movie.amaTitleKor);
		})
	});
	
	var text = "<div class='box alt'>"+
					"<div style='text-align: left;'>"+
						"<b style='font-size:2em;'>장르1</b>"+
					"</div>"+
					"<div class='row gtr-50 gtr-uniform'></div>"+
				"</div>"+
				"<div class='swiper-container'>"+
					"<div class='swiper-wrapper'>"+

						"<div class='swiper-slide'>"+
							"<div class='col-poster'>"
								"<div class='image fit posterTag' style='margin-bottom: 4px;'>"+
									"<img src='${pageContext.request.contextPath}/images/testImage.jpg' style='border-radius: 10px;' />"+
									"<div id='detailText'"+
										"style='padding: 5px; display: none; position: absolute; top: 0; left: 0; bottom: 0; right: 0; color: white; background-color: rgba(0, 0, 0, 0.69); border-radius: 10px;'>"+
										"<div style='height: 65%; text-overflow: ellipsis; line-height: initial; overflow: hidden; font-size: 0.8em; margin: 10px;'>"+
											"인피니티워 이후 절반만 살아남은 지구마지막 희망이 된 어벤져스 먼저 떠난 그들을 위해 모든 것을 걸었다! 위대한 어벤져스운명을 바꿀 최후의 전쟁이 펼쳐진다!"+
										"</div>"+
										"<a class='button primary small' href='${pageContext.request.contextPath}/amaMovie/AmaMovieDetail.ama?amaNum=4'"+ 
											"style='position: absolute; left: 16px; right: 16px; bottom: 16px; height: 38px; line-height: 38px; padding: 0 0;'>"+
											"상세보기 <img alt='' src='' title='영화제목'>"+
										"</a>"+
									"</div>"+
								"</div>"+
								"<span><strong style='font-size:0.8em;'>어벤저스 엔드게임1</strong></span>"+
							"</div>"+
						"</div>"+
						
					"</div>"+
					"<div class='swiper-button-prev leftBtn moveBtn'></div>"+
					"<div class='swiper-button-next rightBtn moveBtn'></div>"+
				"</div>";
	
	
	
	
	
	
	
	
	
	
	
}